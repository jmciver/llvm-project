// NOTE: Assertions have been autogenerated by utils/update_cc_test_checks.py UTC_ARGS: --function-signature --include-generated-funcs --replace-value-regex "__omp_offloading_[0-9a-z]+_[0-9a-z]+" "reduction_size[.].+[.]" "pl_cond[.].+[.|,]" --prefix-filecheck-ir-name _
// RUN: %clang_cc1 -verify -fopenmp -x c -triple x86_64-unknown-unknown -emit-llvm %s -o - | FileCheck %s
// RUN: %clang_cc1 -fopenmp -x c -triple x86_64-unknown-unknown -emit-pch -o %t %s
// RUN: %clang_cc1 -fopenmp -x c -triple x86_64-unknown-unknown -include-pch %t -verify %s -emit-llvm -o - | FileCheck %s

// RUN: %clang_cc1 -verify -fopenmp-simd -x c -triple x86_64-unknown-unknown -emit-llvm %s -o - | FileCheck --check-prefix SIMD-ONLY0 %s
// RUN: %clang_cc1 -fopenmp-simd -x c -triple x86_64-unknown-unknown -emit-pch -o %t %s
// RUN: %clang_cc1 -fopenmp-simd -x c -triple x86_64-unknown-unknown -include-pch %t -verify %s -emit-llvm -o - | FileCheck --check-prefix SIMD-ONLY0 %s
// expected-no-diagnostics
#ifndef HEADER
#define HEADER

void collapsed(int mp) {
#pragma omp for collapse(3)
  for (int j = 0; j < mp; ++j) {
    for (int i = j; i < mp; ++i) {
      for (int i0 = 0; i0 < 10; ++i0) {
        ;
      }
    }
  }
}

#endif // HEADER
// CHECK-LABEL: define {{[^@]+}}@collapsed
// CHECK-SAME: (i32 noundef [[MP:%.*]]) #[[ATTR0:[0-9]+]] {
// CHECK-NEXT:  entry:
// CHECK-NEXT:    [[MP_ADDR:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTOMP_IV:%.*]] = alloca i64, align 8
// CHECK-NEXT:    [[TMP:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[_TMP1:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[_TMP2:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTCAPTURE_EXPR_:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTLB_MIN:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTLB_MAX:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTMIN_LESS_MAX:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTUPPER:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTLOWER:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTCAPTURE_EXPR_9:%.*]] = alloca i64, align 8
// CHECK-NEXT:    [[J:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[I:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[I0:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[_TMP25:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[DOTOMP_LB:%.*]] = alloca i64, align 8
// CHECK-NEXT:    [[DOTOMP_UB:%.*]] = alloca i64, align 8
// CHECK-NEXT:    [[DOTOMP_STRIDE:%.*]] = alloca i64, align 8
// CHECK-NEXT:    [[DOTOMP_IS_LAST:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[J33:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[I35:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[I037:%.*]] = alloca i32, align 4
// CHECK-NEXT:    [[TMP0:%.*]] = call i32 @__kmpc_global_thread_num(ptr @[[GLOB2:[0-9]+]])
// CHECK-NEXT:    store i32 [[MP]], ptr [[MP_ADDR]], align 4
// CHECK-NEXT:    [[FREEZE_POISON:%.*]] = freeze i64 poison
// CHECK-NEXT:    store i64 [[FREEZE_POISON]], ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[FREEZE_POISON3:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON3]], ptr [[DOTCAPTURE_EXPR_]], align 4
// CHECK-NEXT:    [[TMP1:%.*]] = load i32, ptr [[MP_ADDR]], align 4
// CHECK-NEXT:    store i32 [[TMP1]], ptr [[DOTCAPTURE_EXPR_]], align 4
// CHECK-NEXT:    [[FREEZE_POISON4:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON4]], ptr [[DOTLB_MIN]], align 4
// CHECK-NEXT:    store i32 0, ptr [[TMP]], align 4
// CHECK-NEXT:    [[TMP2:%.*]] = load i32, ptr [[TMP]], align 4, !freeze_bits [[META3:![0-9]+]]
// CHECK-NEXT:    store i32 [[TMP2]], ptr [[DOTLB_MIN]], align 4
// CHECK-NEXT:    [[FREEZE_POISON5:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON5]], ptr [[DOTLB_MAX]], align 4
// CHECK-NEXT:    [[TMP3:%.*]] = load i32, ptr [[DOTCAPTURE_EXPR_]], align 4
// CHECK-NEXT:    [[SUB:%.*]] = sub nsw i32 [[TMP3]], 1
// CHECK-NEXT:    [[DIV:%.*]] = sdiv i32 [[SUB]], 1
// CHECK-NEXT:    [[MUL:%.*]] = mul nsw i32 [[DIV]], 1
// CHECK-NEXT:    [[ADD:%.*]] = add nsw i32 0, [[MUL]]
// CHECK-NEXT:    store i32 [[ADD]], ptr [[TMP]], align 4
// CHECK-NEXT:    [[TMP4:%.*]] = load i32, ptr [[TMP]], align 4, !freeze_bits [[META3]]
// CHECK-NEXT:    store i32 [[TMP4]], ptr [[DOTLB_MAX]], align 4
// CHECK-NEXT:    [[FREEZE_POISON6:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON6]], ptr [[DOTMIN_LESS_MAX]], align 4
// CHECK-NEXT:    [[TMP5:%.*]] = load i32, ptr [[DOTLB_MIN]], align 4
// CHECK-NEXT:    [[TMP6:%.*]] = load i32, ptr [[DOTLB_MAX]], align 4
// CHECK-NEXT:    [[CMP:%.*]] = icmp slt i32 [[TMP5]], [[TMP6]]
// CHECK-NEXT:    [[CONV:%.*]] = zext i1 [[CMP]] to i32
// CHECK-NEXT:    store i32 [[CONV]], ptr [[DOTMIN_LESS_MAX]], align 4
// CHECK-NEXT:    [[FREEZE_POISON7:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON7]], ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP7:%.*]] = load i32, ptr [[MP_ADDR]], align 4
// CHECK-NEXT:    store i32 [[TMP7]], ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[FREEZE_POISON8:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON8]], ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[TMP8:%.*]] = load i32, ptr [[DOTMIN_LESS_MAX]], align 4
// CHECK-NEXT:    [[TOBOOL:%.*]] = icmp ne i32 [[TMP8]], 0
// CHECK-NEXT:    br i1 [[TOBOOL]], label [[COND_TRUE:%.*]], label [[COND_FALSE:%.*]]
// CHECK:       cond.true:
// CHECK-NEXT:    [[TMP9:%.*]] = load i32, ptr [[DOTLB_MIN]], align 4
// CHECK-NEXT:    br label [[COND_END:%.*]]
// CHECK:       cond.false:
// CHECK-NEXT:    [[TMP10:%.*]] = load i32, ptr [[DOTLB_MAX]], align 4
// CHECK-NEXT:    br label [[COND_END]]
// CHECK:       cond.end:
// CHECK-NEXT:    [[COND:%.*]] = phi i32 [ [[TMP9]], [[COND_TRUE]] ], [ [[TMP10]], [[COND_FALSE]] ]
// CHECK-NEXT:    store i32 [[COND]], ptr [[TMP]], align 4
// CHECK-NEXT:    store i32 [[COND]], ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[FREEZE_POISON10:%.*]] = freeze i64 poison
// CHECK-NEXT:    store i64 [[FREEZE_POISON10]], ptr [[DOTCAPTURE_EXPR_9]], align 8
// CHECK-NEXT:    [[TMP11:%.*]] = load i32, ptr [[DOTCAPTURE_EXPR_]], align 4
// CHECK-NEXT:    [[SUB11:%.*]] = sub nsw i32 [[TMP11]], 0
// CHECK-NEXT:    [[DIV12:%.*]] = sdiv i32 [[SUB11]], 1
// CHECK-NEXT:    [[CONV13:%.*]] = sext i32 [[DIV12]] to i64
// CHECK-NEXT:    [[TMP12:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP13:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB14:%.*]] = sub i32 [[TMP12]], [[TMP13]]
// CHECK-NEXT:    [[SUB15:%.*]] = sub i32 [[SUB14]], 1
// CHECK-NEXT:    [[ADD16:%.*]] = add i32 [[SUB15]], 1
// CHECK-NEXT:    [[DIV17:%.*]] = udiv i32 [[ADD16]], 1
// CHECK-NEXT:    [[CONV18:%.*]] = zext i32 [[DIV17]] to i64
// CHECK-NEXT:    [[MUL19:%.*]] = mul nsw i64 [[CONV13]], [[CONV18]]
// CHECK-NEXT:    [[MUL20:%.*]] = mul nsw i64 [[MUL19]], 10
// CHECK-NEXT:    [[SUB21:%.*]] = sub nsw i64 [[MUL20]], 1
// CHECK-NEXT:    store i64 [[SUB21]], ptr [[DOTCAPTURE_EXPR_9]], align 8
// CHECK-NEXT:    [[FREEZE_POISON22:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON22]], ptr [[J]], align 4
// CHECK-NEXT:    [[FREEZE_POISON23:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON23]], ptr [[I]], align 4
// CHECK-NEXT:    [[FREEZE_POISON24:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON24]], ptr [[I0]], align 4
// CHECK-NEXT:    store i32 0, ptr [[J]], align 4
// CHECK-NEXT:    [[TMP14:%.*]] = load i32, ptr [[J]], align 4
// CHECK-NEXT:    store i32 [[TMP14]], ptr [[I]], align 4
// CHECK-NEXT:    store i32 0, ptr [[I0]], align 4
// CHECK-NEXT:    store i32 0, ptr [[_TMP25]], align 4
// CHECK-NEXT:    [[TMP15:%.*]] = load i32, ptr [[DOTCAPTURE_EXPR_]], align 4
// CHECK-NEXT:    [[CMP26:%.*]] = icmp slt i32 0, [[TMP15]]
// CHECK-NEXT:    br i1 [[CMP26]], label [[OMP_PRECOND_THEN:%.*]], label [[OMP_PRECOND_END:%.*]]
// CHECK:       omp.precond.then:
// CHECK-NEXT:    [[FREEZE_POISON29:%.*]] = freeze i64 poison
// CHECK-NEXT:    store i64 [[FREEZE_POISON29]], ptr [[DOTOMP_LB]], align 8
// CHECK-NEXT:    store i64 0, ptr [[DOTOMP_LB]], align 8
// CHECK-NEXT:    [[FREEZE_POISON30:%.*]] = freeze i64 poison
// CHECK-NEXT:    store i64 [[FREEZE_POISON30]], ptr [[DOTOMP_UB]], align 8
// CHECK-NEXT:    [[TMP16:%.*]] = load i64, ptr [[DOTCAPTURE_EXPR_9]], align 8
// CHECK-NEXT:    store i64 [[TMP16]], ptr [[DOTOMP_UB]], align 8
// CHECK-NEXT:    [[FREEZE_POISON31:%.*]] = freeze i64 poison
// CHECK-NEXT:    store i64 [[FREEZE_POISON31]], ptr [[DOTOMP_STRIDE]], align 8
// CHECK-NEXT:    store i64 1, ptr [[DOTOMP_STRIDE]], align 8
// CHECK-NEXT:    [[FREEZE_POISON32:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON32]], ptr [[DOTOMP_IS_LAST]], align 4
// CHECK-NEXT:    store i32 0, ptr [[DOTOMP_IS_LAST]], align 4
// CHECK-NEXT:    [[FREEZE_POISON34:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON34]], ptr [[J33]], align 4
// CHECK-NEXT:    [[FREEZE_POISON36:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON36]], ptr [[I35]], align 4
// CHECK-NEXT:    [[FREEZE_POISON38:%.*]] = freeze i32 poison
// CHECK-NEXT:    store i32 [[FREEZE_POISON38]], ptr [[I037]], align 4
// CHECK-NEXT:    call void @__kmpc_for_static_init_8(ptr @[[GLOB1:[0-9]+]], i32 [[TMP0]], i32 34, ptr [[DOTOMP_IS_LAST]], ptr [[DOTOMP_LB]], ptr [[DOTOMP_UB]], ptr [[DOTOMP_STRIDE]], i64 1, i64 1)
// CHECK-NEXT:    [[TMP17:%.*]] = load i64, ptr [[DOTOMP_UB]], align 8
// CHECK-NEXT:    [[TMP18:%.*]] = load i64, ptr [[DOTCAPTURE_EXPR_9]], align 8
// CHECK-NEXT:    [[CMP39:%.*]] = icmp sgt i64 [[TMP17]], [[TMP18]]
// CHECK-NEXT:    br i1 [[CMP39]], label [[COND_TRUE41:%.*]], label [[COND_FALSE42:%.*]]
// CHECK:       cond.true41:
// CHECK-NEXT:    [[TMP19:%.*]] = load i64, ptr [[DOTCAPTURE_EXPR_9]], align 8
// CHECK-NEXT:    br label [[COND_END43:%.*]]
// CHECK:       cond.false42:
// CHECK-NEXT:    [[TMP20:%.*]] = load i64, ptr [[DOTOMP_UB]], align 8
// CHECK-NEXT:    br label [[COND_END43]]
// CHECK:       cond.end43:
// CHECK-NEXT:    [[COND44:%.*]] = phi i64 [ [[TMP19]], [[COND_TRUE41]] ], [ [[TMP20]], [[COND_FALSE42]] ]
// CHECK-NEXT:    store i64 [[COND44]], ptr [[DOTOMP_UB]], align 8
// CHECK-NEXT:    [[TMP21:%.*]] = load i64, ptr [[DOTOMP_LB]], align 8
// CHECK-NEXT:    store i64 [[TMP21]], ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    br label [[OMP_INNER_FOR_COND:%.*]]
// CHECK:       omp.inner.for.cond:
// CHECK-NEXT:    [[TMP22:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP23:%.*]] = load i64, ptr [[DOTOMP_UB]], align 8
// CHECK-NEXT:    [[CMP45:%.*]] = icmp sle i64 [[TMP22]], [[TMP23]]
// CHECK-NEXT:    br i1 [[CMP45]], label [[OMP_INNER_FOR_BODY:%.*]], label [[OMP_INNER_FOR_END:%.*]]
// CHECK:       omp.inner.for.body:
// CHECK-NEXT:    [[TMP24:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP25:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP26:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB47:%.*]] = sub i32 [[TMP25]], [[TMP26]]
// CHECK-NEXT:    [[SUB48:%.*]] = sub i32 [[SUB47]], 1
// CHECK-NEXT:    [[ADD49:%.*]] = add i32 [[SUB48]], 1
// CHECK-NEXT:    [[DIV50:%.*]] = udiv i32 [[ADD49]], 1
// CHECK-NEXT:    [[MUL51:%.*]] = mul i32 1, [[DIV50]]
// CHECK-NEXT:    [[MUL52:%.*]] = mul i32 [[MUL51]], 10
// CHECK-NEXT:    [[CONV53:%.*]] = zext i32 [[MUL52]] to i64
// CHECK-NEXT:    [[DIV54:%.*]] = sdiv i64 [[TMP24]], [[CONV53]]
// CHECK-NEXT:    [[MUL55:%.*]] = mul nsw i64 [[DIV54]], 1
// CHECK-NEXT:    [[ADD56:%.*]] = add nsw i64 0, [[MUL55]]
// CHECK-NEXT:    [[CONV57:%.*]] = trunc i64 [[ADD56]] to i32
// CHECK-NEXT:    store i32 [[CONV57]], ptr [[J33]], align 4
// CHECK-NEXT:    [[TMP27:%.*]] = load i32, ptr [[J33]], align 4
// CHECK-NEXT:    [[CONV58:%.*]] = sext i32 [[TMP27]] to i64
// CHECK-NEXT:    [[TMP28:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP29:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP30:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP31:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB59:%.*]] = sub i32 [[TMP30]], [[TMP31]]
// CHECK-NEXT:    [[SUB60:%.*]] = sub i32 [[SUB59]], 1
// CHECK-NEXT:    [[ADD61:%.*]] = add i32 [[SUB60]], 1
// CHECK-NEXT:    [[DIV62:%.*]] = udiv i32 [[ADD61]], 1
// CHECK-NEXT:    [[MUL63:%.*]] = mul i32 1, [[DIV62]]
// CHECK-NEXT:    [[MUL64:%.*]] = mul i32 [[MUL63]], 10
// CHECK-NEXT:    [[CONV65:%.*]] = zext i32 [[MUL64]] to i64
// CHECK-NEXT:    [[DIV66:%.*]] = sdiv i64 [[TMP29]], [[CONV65]]
// CHECK-NEXT:    [[TMP32:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP33:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB67:%.*]] = sub i32 [[TMP32]], [[TMP33]]
// CHECK-NEXT:    [[SUB68:%.*]] = sub i32 [[SUB67]], 1
// CHECK-NEXT:    [[ADD69:%.*]] = add i32 [[SUB68]], 1
// CHECK-NEXT:    [[DIV70:%.*]] = udiv i32 [[ADD69]], 1
// CHECK-NEXT:    [[MUL71:%.*]] = mul i32 1, [[DIV70]]
// CHECK-NEXT:    [[MUL72:%.*]] = mul i32 [[MUL71]], 10
// CHECK-NEXT:    [[CONV73:%.*]] = zext i32 [[MUL72]] to i64
// CHECK-NEXT:    [[MUL74:%.*]] = mul nsw i64 [[DIV66]], [[CONV73]]
// CHECK-NEXT:    [[SUB75:%.*]] = sub nsw i64 [[TMP28]], [[MUL74]]
// CHECK-NEXT:    [[DIV76:%.*]] = sdiv i64 [[SUB75]], 10
// CHECK-NEXT:    [[MUL77:%.*]] = mul nsw i64 [[DIV76]], 1
// CHECK-NEXT:    [[ADD78:%.*]] = add nsw i64 [[CONV58]], [[MUL77]]
// CHECK-NEXT:    [[CONV79:%.*]] = trunc i64 [[ADD78]] to i32
// CHECK-NEXT:    store i32 [[CONV79]], ptr [[I35]], align 4
// CHECK-NEXT:    [[TMP34:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP35:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP36:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP37:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB80:%.*]] = sub i32 [[TMP36]], [[TMP37]]
// CHECK-NEXT:    [[SUB81:%.*]] = sub i32 [[SUB80]], 1
// CHECK-NEXT:    [[ADD82:%.*]] = add i32 [[SUB81]], 1
// CHECK-NEXT:    [[DIV83:%.*]] = udiv i32 [[ADD82]], 1
// CHECK-NEXT:    [[MUL84:%.*]] = mul i32 1, [[DIV83]]
// CHECK-NEXT:    [[MUL85:%.*]] = mul i32 [[MUL84]], 10
// CHECK-NEXT:    [[CONV86:%.*]] = zext i32 [[MUL85]] to i64
// CHECK-NEXT:    [[DIV87:%.*]] = sdiv i64 [[TMP35]], [[CONV86]]
// CHECK-NEXT:    [[TMP38:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP39:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB88:%.*]] = sub i32 [[TMP38]], [[TMP39]]
// CHECK-NEXT:    [[SUB89:%.*]] = sub i32 [[SUB88]], 1
// CHECK-NEXT:    [[ADD90:%.*]] = add i32 [[SUB89]], 1
// CHECK-NEXT:    [[DIV91:%.*]] = udiv i32 [[ADD90]], 1
// CHECK-NEXT:    [[MUL92:%.*]] = mul i32 1, [[DIV91]]
// CHECK-NEXT:    [[MUL93:%.*]] = mul i32 [[MUL92]], 10
// CHECK-NEXT:    [[CONV94:%.*]] = zext i32 [[MUL93]] to i64
// CHECK-NEXT:    [[MUL95:%.*]] = mul nsw i64 [[DIV87]], [[CONV94]]
// CHECK-NEXT:    [[SUB96:%.*]] = sub nsw i64 [[TMP34]], [[MUL95]]
// CHECK-NEXT:    [[TMP40:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP41:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[TMP42:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP43:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB97:%.*]] = sub i32 [[TMP42]], [[TMP43]]
// CHECK-NEXT:    [[SUB98:%.*]] = sub i32 [[SUB97]], 1
// CHECK-NEXT:    [[ADD99:%.*]] = add i32 [[SUB98]], 1
// CHECK-NEXT:    [[DIV100:%.*]] = udiv i32 [[ADD99]], 1
// CHECK-NEXT:    [[MUL101:%.*]] = mul i32 1, [[DIV100]]
// CHECK-NEXT:    [[MUL102:%.*]] = mul i32 [[MUL101]], 10
// CHECK-NEXT:    [[CONV103:%.*]] = zext i32 [[MUL102]] to i64
// CHECK-NEXT:    [[DIV104:%.*]] = sdiv i64 [[TMP41]], [[CONV103]]
// CHECK-NEXT:    [[TMP44:%.*]] = load i32, ptr [[DOTUPPER]], align 4
// CHECK-NEXT:    [[TMP45:%.*]] = load i32, ptr [[DOTLOWER]], align 4
// CHECK-NEXT:    [[SUB105:%.*]] = sub i32 [[TMP44]], [[TMP45]]
// CHECK-NEXT:    [[SUB106:%.*]] = sub i32 [[SUB105]], 1
// CHECK-NEXT:    [[ADD107:%.*]] = add i32 [[SUB106]], 1
// CHECK-NEXT:    [[DIV108:%.*]] = udiv i32 [[ADD107]], 1
// CHECK-NEXT:    [[MUL109:%.*]] = mul i32 1, [[DIV108]]
// CHECK-NEXT:    [[MUL110:%.*]] = mul i32 [[MUL109]], 10
// CHECK-NEXT:    [[CONV111:%.*]] = zext i32 [[MUL110]] to i64
// CHECK-NEXT:    [[MUL112:%.*]] = mul nsw i64 [[DIV104]], [[CONV111]]
// CHECK-NEXT:    [[SUB113:%.*]] = sub nsw i64 [[TMP40]], [[MUL112]]
// CHECK-NEXT:    [[DIV114:%.*]] = sdiv i64 [[SUB113]], 10
// CHECK-NEXT:    [[MUL115:%.*]] = mul nsw i64 [[DIV114]], 10
// CHECK-NEXT:    [[SUB116:%.*]] = sub nsw i64 [[SUB96]], [[MUL115]]
// CHECK-NEXT:    [[MUL117:%.*]] = mul nsw i64 [[SUB116]], 1
// CHECK-NEXT:    [[ADD118:%.*]] = add nsw i64 0, [[MUL117]]
// CHECK-NEXT:    [[CONV119:%.*]] = trunc i64 [[ADD118]] to i32
// CHECK-NEXT:    store i32 [[CONV119]], ptr [[I037]], align 4
// CHECK-NEXT:    [[TMP46:%.*]] = load i32, ptr [[I35]], align 4
// CHECK-NEXT:    [[TMP47:%.*]] = load i32, ptr [[MP_ADDR]], align 4
// CHECK-NEXT:    [[CMP120:%.*]] = icmp slt i32 [[TMP46]], [[TMP47]]
// CHECK-NEXT:    br i1 [[CMP120]], label [[OMP_BODY_NEXT:%.*]], label [[OMP_BODY_CONTINUE:%.*]]
// CHECK:       omp.body.next:
// CHECK-NEXT:    br label [[OMP_BODY_CONTINUE]]
// CHECK:       omp.body.continue:
// CHECK-NEXT:    br label [[OMP_INNER_FOR_INC:%.*]]
// CHECK:       omp.inner.for.inc:
// CHECK-NEXT:    [[TMP48:%.*]] = load i64, ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    [[ADD122:%.*]] = add nsw i64 [[TMP48]], 1
// CHECK-NEXT:    store i64 [[ADD122]], ptr [[DOTOMP_IV]], align 8
// CHECK-NEXT:    br label [[OMP_INNER_FOR_COND]]
// CHECK:       omp.inner.for.end:
// CHECK-NEXT:    br label [[OMP_LOOP_EXIT:%.*]]
// CHECK:       omp.loop.exit:
// CHECK-NEXT:    call void @__kmpc_for_static_fini(ptr @[[GLOB1]], i32 [[TMP0]])
// CHECK-NEXT:    br label [[OMP_PRECOND_END]]
// CHECK:       omp.precond.end:
// CHECK-NEXT:    call void @__kmpc_barrier(ptr @[[GLOB3:[0-9]+]], i32 [[TMP0]])
// CHECK-NEXT:    ret void
//
//
// SIMD-ONLY0-LABEL: define {{[^@]+}}@collapsed
// SIMD-ONLY0-SAME: (i32 noundef [[MP:%.*]]) #[[ATTR0:[0-9]+]] {
// SIMD-ONLY0-NEXT:  entry:
// SIMD-ONLY0-NEXT:    [[MP_ADDR:%.*]] = alloca i32, align 4
// SIMD-ONLY0-NEXT:    [[J:%.*]] = alloca i32, align 4
// SIMD-ONLY0-NEXT:    [[I:%.*]] = alloca i32, align 4
// SIMD-ONLY0-NEXT:    [[I0:%.*]] = alloca i32, align 4
// SIMD-ONLY0-NEXT:    store i32 [[MP]], ptr [[MP_ADDR]], align 4
// SIMD-ONLY0-NEXT:    [[FREEZE_POISON:%.*]] = freeze i32 poison
// SIMD-ONLY0-NEXT:    store i32 [[FREEZE_POISON]], ptr [[J]], align 4
// SIMD-ONLY0-NEXT:    store i32 0, ptr [[J]], align 4
// SIMD-ONLY0-NEXT:    br label [[FOR_COND:%.*]]
// SIMD-ONLY0:       for.cond:
// SIMD-ONLY0-NEXT:    [[TMP0:%.*]] = load i32, ptr [[J]], align 4
// SIMD-ONLY0-NEXT:    [[TMP1:%.*]] = load i32, ptr [[MP_ADDR]], align 4
// SIMD-ONLY0-NEXT:    [[CMP:%.*]] = icmp slt i32 [[TMP0]], [[TMP1]]
// SIMD-ONLY0-NEXT:    br i1 [[CMP]], label [[FOR_BODY:%.*]], label [[FOR_END14:%.*]]
// SIMD-ONLY0:       for.body:
// SIMD-ONLY0-NEXT:    [[FREEZE_POISON1:%.*]] = freeze i32 poison
// SIMD-ONLY0-NEXT:    store i32 [[FREEZE_POISON1]], ptr [[I]], align 4
// SIMD-ONLY0-NEXT:    [[TMP2:%.*]] = load i32, ptr [[J]], align 4
// SIMD-ONLY0-NEXT:    store i32 [[TMP2]], ptr [[I]], align 4
// SIMD-ONLY0-NEXT:    br label [[FOR_COND2:%.*]]
// SIMD-ONLY0:       for.cond2:
// SIMD-ONLY0-NEXT:    [[TMP3:%.*]] = load i32, ptr [[I]], align 4
// SIMD-ONLY0-NEXT:    [[TMP4:%.*]] = load i32, ptr [[MP_ADDR]], align 4
// SIMD-ONLY0-NEXT:    [[CMP3:%.*]] = icmp slt i32 [[TMP3]], [[TMP4]]
// SIMD-ONLY0-NEXT:    br i1 [[CMP3]], label [[FOR_BODY4:%.*]], label [[FOR_END11:%.*]]
// SIMD-ONLY0:       for.body4:
// SIMD-ONLY0-NEXT:    [[FREEZE_POISON5:%.*]] = freeze i32 poison
// SIMD-ONLY0-NEXT:    store i32 [[FREEZE_POISON5]], ptr [[I0]], align 4
// SIMD-ONLY0-NEXT:    store i32 0, ptr [[I0]], align 4
// SIMD-ONLY0-NEXT:    br label [[FOR_COND6:%.*]]
// SIMD-ONLY0:       for.cond6:
// SIMD-ONLY0-NEXT:    [[TMP5:%.*]] = load i32, ptr [[I0]], align 4
// SIMD-ONLY0-NEXT:    [[CMP7:%.*]] = icmp slt i32 [[TMP5]], 10
// SIMD-ONLY0-NEXT:    br i1 [[CMP7]], label [[FOR_BODY8:%.*]], label [[FOR_END:%.*]]
// SIMD-ONLY0:       for.body8:
// SIMD-ONLY0-NEXT:    br label [[FOR_INC:%.*]]
// SIMD-ONLY0:       for.inc:
// SIMD-ONLY0-NEXT:    [[TMP6:%.*]] = load i32, ptr [[I0]], align 4
// SIMD-ONLY0-NEXT:    [[INC:%.*]] = add nsw i32 [[TMP6]], 1
// SIMD-ONLY0-NEXT:    store i32 [[INC]], ptr [[I0]], align 4
// SIMD-ONLY0-NEXT:    br label [[FOR_COND6]], !llvm.loop [[LOOP2:![0-9]+]]
// SIMD-ONLY0:       for.end:
// SIMD-ONLY0-NEXT:    br label [[FOR_INC9:%.*]]
// SIMD-ONLY0:       for.inc9:
// SIMD-ONLY0-NEXT:    [[TMP7:%.*]] = load i32, ptr [[I]], align 4
// SIMD-ONLY0-NEXT:    [[INC10:%.*]] = add nsw i32 [[TMP7]], 1
// SIMD-ONLY0-NEXT:    store i32 [[INC10]], ptr [[I]], align 4
// SIMD-ONLY0-NEXT:    br label [[FOR_COND2]], !llvm.loop [[LOOP4:![0-9]+]]
// SIMD-ONLY0:       for.end11:
// SIMD-ONLY0-NEXT:    br label [[FOR_INC12:%.*]]
// SIMD-ONLY0:       for.inc12:
// SIMD-ONLY0-NEXT:    [[TMP8:%.*]] = load i32, ptr [[J]], align 4
// SIMD-ONLY0-NEXT:    [[INC13:%.*]] = add nsw i32 [[TMP8]], 1
// SIMD-ONLY0-NEXT:    store i32 [[INC13]], ptr [[J]], align 4
// SIMD-ONLY0-NEXT:    br label [[FOR_COND]], !llvm.loop [[LOOP5:![0-9]+]]
// SIMD-ONLY0:       for.end14:
// SIMD-ONLY0-NEXT:    ret void
//
